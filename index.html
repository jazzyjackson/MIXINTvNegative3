<head>
  <style>
    html, body {
      overflow: hidden;
    }
  </style>
</head>
<body>
 



  <script>
    var textree = [];
    var latestID = 0; //May update this to search for id among map when dealing with nonlinear trees
    window.addEventListener('dblclick', function(){addLeaf(event);});
    


    function addLeaf(event){
      textree.push({
        sizeXY: [100,300],
        positionXY: [event.clientX,event.clientY],
        contents: "",
        id: Math.floor(event.timeStamp)
      })
      updateDOM()
    }


  function updateDOM(){
      for(var i = 0; i < textree.length; i++){
        if(textree[i].id > latestID){ //so basically, if this leaf hasn't been drawn yet, draw it!
          console.log(textree[i].id) 
          latestID = textree[i].id
        }
      } 
    }

    /*  
    One MouseDown: determine what the context is, text body? left edge / right edge / corner, etc? background? Graph port?
    on mouse move, update the values on the determined context
    on MouseUp, release the info
    */


  </script>

</body>

<!--
  Implementation steps:
  Double click to append div to DOM
  fresh div is a text input
  upon deselecting the div (ESC or click on background) swap an input for a span
  
  single click and drag changes relative position
  double click swaps span for input
  right click and dragging on the background move all items
  scrolling scales, oooo
  -->